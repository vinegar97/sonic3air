name: Build Sonic 3 A.I.R. - Windows

# Controls when the workflow will run
on:
  push:
    branches:
      - main
      - Actions_test

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

jobs:
  build-sdl2:
    runs-on: windows-latest

    env:
      _CL_: /MT

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Setup MSBuild
        uses: microsoft/setup-msbuild@v1

      - name: Build SDL2 Debug Win32
        continue-on-error: true
        run: |
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /target:SDL2 /property:Configuration=Debug /property:Platform=Win32 -verbosity:minimal
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /target:SDL2main /property:Configuration=Debug /property:Platform=Win32 -verbosity:minimal

      - name: Build SDL2 Release Win32
        continue-on-error: true
        run: |
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /target:SDL2 /property:Configuration=Release /property:Platform=Win32 -verbosity:minimal
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /target:SDL2main /property:Configuration=Release /property:Platform=Win32 -verbosity:minimal

      - name: Build SDL2 Debug x64
        continue-on-error: true
        run: |
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /target:SDL2 /property:Configuration=Debug /property:Platform=x64 -verbosity=minimal
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /target:SDL2main /property:Configuration=Debug /property:Platform=x64 -verbosity=minimal

      - name: Build SDL2 Release x64
        continue-on-error: true
        run: |
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /target:SDL2 /property:Configuration=Release /property:Platform=x64 -verbosity=minimal
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /target:SDL2main /property:Configuration=Release /property:Platform=x64 -verbosity=minimal

      - name: Create output directories
        run: |
          mkdir -p ./framework/include/sdl
          mkdir -p ./framework/lib/x86/sdl
          mkdir -p ./framework/lib/x86d/sdl
          mkdir -p ./framework/lib/x64/sdl
          mkdir -p ./framework/lib/x64d/sdl

      - name: Copy includes
        run: |
          copy ./framework/external/sdl/SDL2/include/* ./framework/include/sdl

      - name: Copy LIBs
        run: |
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Debug/sdl2.lib -Destination ./framework/lib/x86d/sdl
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Release/sdl2.lib -Destination ./framework/lib/x86/sdl
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Debug/sdl2main.lib -Destination ./framework/lib/x86d/sdl
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Release/sdl2main.lib -Destination ./framework/lib/x86/sdl
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/x64/Debug/sdl2.lib -Destination ./framework/lib/x64d/sdl
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/x64/Release/sdl2.lib -Destination ./framework/lib/x64/sdl
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/x64/Debug/sdl2main.lib -Destination ./framework/lib/x64d/sdl
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/x64/Release/sdl2main.lib -Destination ./framework/lib/x64/sdl



  windows-air_debug_x86:
    runs-on: windows-latest
    steps:

      - name: Checkout
        uses: actions/checkout@v1

      - name: Setup MSBuild
        uses: microsoft/setup-msbuild@v1

      - name: Build libogg
        run: |
          msbuild ./framework/external/ogg-vorbis/libogg/win32/VS2015/libogg.sln /p:Configuration=Debug /p:Platform=Win32 -verbosity:minimal

      - name: Creating output directories...
        run: |
          mkdir framework/include/ogg
          mkdir framework/lib/x86d/libogg
          mkdir framework/bin/x86d

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libogg/include/ogg/* -Destination ./framework/include/ogg/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libogg/win32/VS2015/Win32/Debug/*.lib -Destination ./framework/lib/x86d/libogg/

      - name: Build libvorbis
        run: |
          msbuild ./framework/external/ogg-vorbis/libvorbis/win32/VS2010/vorbis_static.sln /target:libvorbis_static /property:Configuration=Debug   /property:Platform=Win32 -verbosity:minimal
          msbuild ./framework/external/ogg-vorbis/libvorbis/win32/VS2010/vorbis_static.sln /target:libvorbisfile    /property:Configuration=Debug   /property:Platform=Win32 -verbosity:minimal
          msbuild ./framework/external/ogg-vorbis/libvorbis/win32/VS2010/vorbis_static.sln /target:vorbisdec        /property:Configuration=Debug   /property:Platform=Win32 -verbosity:minimal

      - name: Creating output directories...
        run: |
          mkdir framework/include/vorbis
          mkdir framework/lib/x86d/libvorbis

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libvorbis/include/vorbis/* -Destination ./framework/include/vorbis/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libvorbis/win32/VS2010/Win32/Debug/*.lib -Destination ./framework/lib/x86d/libvorbis/

      - name: Build SDL
        continue-on-error: true
        run: |
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /target:SDL2     /property:Configuration=Debug   /property:Platform=Win32 -verbosity:minimal
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /target:SDL2main /property:Configuration=Debug   /property:Platform=Win32 -verbosity:minimal

      - name: Creating output directories...
        run: |
          mkdir framework/include/sdl
          mkdir framework/lib/x86d/sdl

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/sdl/SDL2/include/* -Destination ./framework/include/sdl/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Debug/SDL2.lib -Destination ./framework/lib/x86d/sdl/
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Debug/SDL2main.lib -Destination ./framework/lib/x86d/sdl/

      - name: Build zlib
        run: |
          msbuild ./framework/external/zlib/_vstudio/zlib.sln /target:zlib    /property:Configuration=Debug   /property:Platform=x86 -verbosity:minimal
          msbuild ./framework/external/zlib/_vstudio/zlib.sln /target:minizip /property:Configuration=Debug   /property:Platform=x86 -verbosity:minimal

      - name: Creating output directories...
        run: |
          mkdir framework/include/zlib
          mkdir framework/include/minizip
          mkdir framework/lib/x86d/zlib
          mkdir framework/lib/x86d/minizip

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/zlib/zlib/*.h -Destination ./framework/include/zlib/
          Copy-item -Path ./framework/external/zlib/zlib/contrib/minizip/*.h -Destination ./framework/include/minizip/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/zlib/lib/Debug_x86/zlib.lib -Destination ./framework/lib/x86d/zlib/
          Copy-item -Path ./framework/external/zlib/lib/Debug_x86/minizip.lib -Destination ./framework/lib/x86d/minizip/

      - name: Build curl
        run: |
          msbuild ./framework/external/curl/curl/projects/Windows/VC14.30/curl-all.sln /target:libcurl /property:Configuration="LIB Release - DLL Windows SSPI" /property:Platform=Win32 /p:RuntimeLibrary=MT_StaticRelease -verbosity:minimal

      - name: Creating output directories...
        run: |
          mkdir framework/include/curl
          mkdir framework/lib/x86/curl
          mkdir framework/lib/x86d/curl

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/curl/curl/include/curl/* -Destination ./framework/include/curl/

      - name: Copying LIBs...
        run: |
          Copy-item -Path "./framework/external/curl/curl/build/Win32/VC14.30/LIB Release - DLL Windows SSPI/libcurl.lib" -Destination ./framework/lib/x86/curl/
          Copy-item -Path "./framework/external/curl/curl/build/Win32/VC14.30/LIB Release - DLL Windows SSPI/libcurl.lib" -Destination ./framework/lib/x86d/curl/

      - name: Build librmx
        run: |
          msbuild ./librmx/build/_vstudio/librmx.sln /p:Configuration=Debug /p:Platform=Win32 -verbosity:minimal

      - name: Build Sonic 3 A.I.R.
        run: |
          msbuild ./Oxygen/sonic3air/build/_vstudio/sonic3air.sln /p:Configuration=Debug /p:Platform=Win32 -verbosity:minimal

      - name: Move artifacts
        run: |
          mkdir artifacts/Debug_x86d
          move ./Oxygen/sonic3air/bin/Debug_x86d/* ./artifacts/Debug_x86d

      - name: Upload artifacts
        uses: actions/upload-artifact@v1.0.0
        with:
          name: air_debug_x86
          path: artifacts

  windows-air_release_x86:
    runs-on: windows-latest
    steps:

      - name: Checkout
        uses: actions/checkout@v1

      - name: Setup MSBuild
        uses: microsoft/setup-msbuild@v1

      - name: Build libogg
        run: |
          msbuild ./framework/external/ogg-vorbis/libogg/win32/VS2015/libogg.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/ogg
          mkdir framework/lib/x86/libogg
          mkdir framework/bin/x86

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libogg/include/ogg/* -Destination ./framework/include/ogg/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libogg/win32/VS2015/Win32/Release/*.lib -Destination ./framework/lib/x86/libogg/

      - name: Build libvorbis
        run: |
          msbuild ./framework/external/ogg-vorbis/libvorbis/win32/VS2010/vorbis_static.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/vorbis
          mkdir framework/lib/x86/libvorbis

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libvorbis/include/vorbis/* -Destination ./framework/include/vorbis/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libvorbis/win32/VS2010/Win32/Release/*.lib -Destination ./framework/lib/x86/libvorbis/

      - name: Build SDL
        continue-on-error: true
        run: |
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/sdl
          mkdir framework/lib/x86/sdl

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/sdl/SDL2/include/* -Destination ./framework/include/sdl/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Release/SDL2.lib -Destination ./framework/lib/x86/sdl/
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Release/SDL2main.lib -Destination ./framework/lib/x86/sdl/

      - name: Build zlib
        run: |
          msbuild ./framework/external/zlib/_vstudio/zlib.sln /p:Configuration=Release /p:Platform=x86 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/zlib
          mkdir framework/include/minizip
          mkdir framework/lib/x86/zlib
          mkdir framework/lib/x86/minizip

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/zlib/zlib/*.h -Destination ./framework/include/zlib/
          Copy-item -Path ./framework/external/zlib/zlib/contrib/minizip/*.h -Destination ./framework/include/minizip/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/zlib/lib/Release_x86/zlib.lib -Destination ./framework/lib/x86/zlib/
          Copy-item -Path ./framework/external/zlib/lib/Release_x86/minizip.lib -Destination ./framework/lib/x86/minizip/

      - name: Build librmx
        run: |
          msbuild ./librmx/build/_vstudio/librmx.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Build Sonic 3 A.I.R.
        run: |
          msbuild ./Oxygen/sonic3air/build/_vstudio/sonic3air.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Move artifacts
        run: |
          mkdir artifacts/Release_x86
          move ./Oxygen/sonic3air/bin/Release_x86/* ./artifacts/Release_x86

      - name: Upload artifacts
        uses: actions/upload-artifact@v1.0.0
        with:
          name: air_release_x86
          path: artifacts

  windows-air_release-enduser_x86:
    runs-on: windows-latest
    steps:

      - name: Checkout
        uses: actions/checkout@v1

      - name: Setup MSBuild
        uses: microsoft/setup-msbuild@v1

      - name: Build libogg
        run: |
          msbuild ./framework/external/ogg-vorbis/libogg/win32/VS2015/libogg.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/ogg
          mkdir framework/lib/x86/libogg
          mkdir framework/bin/x86

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libogg/include/ogg/* -Destination ./framework/include/ogg/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libogg/win32/VS2015/Win32/Release/*.lib -Destination ./framework/lib/x86/libogg/

      - name: Build libvorbis
        run: |
          msbuild ./framework/external/ogg-vorbis/libvorbis/win32/VS2010/vorbis_static.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/vorbis
          mkdir framework/lib/x86/libvorbis

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libvorbis/include/vorbis/* -Destination ./framework/include/vorbis/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libvorbis/win32/VS2010/Win32/Release/*.lib -Destination ./framework/lib/x86/libvorbis/

      - name: Build SDL
        continue-on-error: true
        run: |
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/sdl
          mkdir framework/lib/x86/sdl

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/sdl/SDL2/include/* -Destination ./framework/include/sdl/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Release/SDL2.lib -Destination ./framework/lib/x86/sdl/
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Release/SDL2main.lib -Destination ./framework/lib/x86/sdl/

      - name: Build zlib
        run: |
          msbuild ./framework/external/zlib/_vstudio/zlib.sln /p:Configuration=Release /p:Platform=x86 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/zlib
          mkdir framework/include/minizip
          mkdir framework/lib/x86/zlib
          mkdir framework/lib/x86/minizip

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/zlib/zlib/*.h -Destination ./framework/include/zlib/
          Copy-item -Path ./framework/external/zlib/zlib/contrib/minizip/*.h -Destination ./framework/include/minizip/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/zlib/lib/Release_x86/zlib.lib -Destination ./framework/lib/x86/zlib/
          Copy-item -Path ./framework/external/zlib/lib/Release_x86/minizip.lib -Destination ./framework/lib/x86/minizip/

      - name: Build librmx
        run: |
          msbuild ./librmx/build/_vstudio/librmx.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Build Sonic 3 A.I.R.
        run: |
          msbuild ./Oxygen/sonic3air/build/_vstudio/sonic3air.sln /p:Configuration=Release-Enduser /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Move artifacts
        run: |
          mkdir artifacts/Release-Enduser_x86
          move ./Oxygen/sonic3air/bin/Release-Enduser_x86/* ./artifacts/Release-Enduser_x86

      - name: Upload artifacts
        uses: actions/upload-artifact@v1.0.0
        with:
          name: air_release-enduser_x86
          path: artifacts

  windows-oxygen_debug_x86:
    runs-on: windows-latest
    steps:

      - name: Checkout
        uses: actions/checkout@v1

      - name: Setup MSBuild
        uses: microsoft/setup-msbuild@v1

      - name: Build libogg
        run: |
          msbuild ./framework/external/ogg-vorbis/libogg/win32/VS2015/libogg.sln /p:Configuration=Debug /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/ogg
          mkdir framework/lib/x86d/libogg
          mkdir framework/bin/x86d

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libogg/include/ogg/* -Destination ./framework/include/ogg/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libogg/win32/VS2015/Win32/Debug/*.lib -Destination ./framework/lib/x86d/libogg/

      - name: Build libvorbis
        run: |
          msbuild ./framework/external/ogg-vorbis/libvorbis/win32/VS2010/vorbis_static.sln /p:Configuration=Debug /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/vorbis
          mkdir framework/lib/x86d/libvorbis

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libvorbis/include/vorbis/* -Destination ./framework/include/vorbis/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libvorbis/win32/VS2010/Win32/Debug/*.lib -Destination ./framework/lib/x86d/libvorbis/

      - name: Build SDL
        continue-on-error: true
        run: |
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /p:Configuration=Debug /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/sdl
          mkdir framework/lib/x86d/sdl

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/sdl/SDL2/include/* -Destination ./framework/include/sdl/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Debug/SDL2.lib -Destination ./framework/lib/x86d/sdl/
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Debug/SDL2main.lib -Destination ./framework/lib/x86d/sdl/

      - name: Build zlib
        run: |
          msbuild ./framework/external/zlib/_vstudio/zlib.sln /p:Configuration=Debug /p:Platform=x86 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/zlib
          mkdir framework/include/minizip
          mkdir framework/lib/x86d/zlib
          mkdir framework/lib/x86d/minizip

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/zlib/zlib/*.h -Destination ./framework/include/zlib/
          Copy-item -Path ./framework/external/zlib/zlib/contrib/minizip/*.h -Destination ./framework/include/minizip/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/zlib/lib/Debug_x86/zlib.lib -Destination ./framework/lib/x86d/zlib/
          Copy-item -Path ./framework/external/zlib/lib/Debug_x86/minizip.lib -Destination ./framework/lib/x86d/minizip/

      - name: Build librmx
        run: |
          msbuild ./librmx/build/_vstudio/librmx.sln /p:Configuration=Debug /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Build Oxygen Engine
        run: |
          msbuild ./Oxygen/oxygenengine/build/_vstudio/oxygenengine.sln /p:Configuration=Debug /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Move artifacts
        run: |
          mkdir artifacts/Debug_x86d
          move ./Oxygen/oxygenengine/bin/Debug_x86d/* ./artifacts/Debug_x86d

      - name: Upload artifacts
        uses: actions/upload-artifact@v1.0.0
        with:
          name: oxygen_debug_x86
          path: artifacts

  windows-oxygen_release_x86:
    runs-on: windows-latest
    steps:

      - name: Checkout
        uses: actions/checkout@v1

      - name: Setup MSBuild
        uses: microsoft/setup-msbuild@v1

      - name: Build libogg
        run: |
          msbuild ./framework/external/ogg-vorbis/libogg/win32/VS2015/libogg.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/ogg
          mkdir framework/lib/x86/libogg
          mkdir framework/bin/x86

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libogg/include/ogg/* -Destination ./framework/include/ogg/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libogg/win32/VS2015/Win32/Release/*.lib -Destination ./framework/lib/x86/libogg/

      - name: Build libvorbis
        run: |
          msbuild ./framework/external/ogg-vorbis/libvorbis/win32/VS2010/vorbis_static.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/vorbis
          mkdir framework/lib/x86/libvorbis

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libvorbis/include/vorbis/* -Destination ./framework/include/vorbis/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/ogg-vorbis/libvorbis/win32/VS2010/Win32/Release/*.lib -Destination ./framework/lib/x86/libvorbis/

      - name: Build SDL
        continue-on-error: true
        run: |
          msbuild ./framework/external/sdl/SDL2/VisualC/SDL.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/sdl
          mkdir framework/lib/x86/sdl

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/sdl/SDL2/include/* -Destination ./framework/include/sdl/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Release/SDL2.lib -Destination ./framework/lib/x86/sdl/
          Copy-item -Path ./framework/external/sdl/SDL2/VisualC/Win32/Release/SDL2main.lib -Destination ./framework/lib/x86/sdl/

      - name: Build zlib
        run: |
          msbuild ./framework/external/zlib/_vstudio/zlib.sln /p:Configuration=Release /p:Platform=x86 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Creating output directories...
        run: |
          mkdir framework/include/zlib
          mkdir framework/include/minizip
          mkdir framework/lib/x86/zlib
          mkdir framework/lib/x86/minizip

      - name: Copying includes...
        run: |
          Copy-item -Path ./framework/external/zlib/zlib/*.h -Destination ./framework/include/zlib/
          Copy-item -Path ./framework/external/zlib/zlib/contrib/minizip/*.h -Destination ./framework/include/minizip/

      - name: Copying LIBs...
        run: |
          Copy-item -Path ./framework/external/zlib/lib/Release_x86/zlib.lib -Destination ./framework/lib/x86/zlib/
          Copy-item -Path ./framework/external/zlib/lib/Release_x86/minizip.lib -Destination ./framework/lib/x86/minizip/

      - name: Build librmx
        run: |
          msbuild ./librmx/build/_vstudio/librmx.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Build Oxygen Engine
        run: |
          msbuild ./Oxygen/oxygenengine/build/_vstudio/oxygenengine.sln /p:Configuration=Release /p:Platform=Win32 /p:ForceImportBeforeCppTargets="$env:GITHUB_WORKSPACE/props/winactions.props"

      - name: Move artifacts
        run: |
          mkdir artifacts/Release_x86
          move ./Oxygen/oxygenengine/bin/Release_x86/* ./artifacts/Release_x86

      - name: Upload artifacts
        uses: actions/upload-artifact@v1.0.0
        with:
          name: oxygen_release_x86
          path: artifacts

